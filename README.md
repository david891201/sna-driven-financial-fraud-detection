## 專案簡介
本專案目標為運用關聯網絡分析技術，結合金流交易資料與警示帳戶註記資料，找出警示帳戶的鄰居節點，並蒐集其相關特徵。最終將構建完整的訓練樣本，以用於機器學習模型的訓練，協助未來識別潛在可疑帳戶，作為金融詐欺偵測的輔助方法之一。

---

## 專案背景
近期觀察到詐騙集團常利用多層轉帳的方式掩護資金流向，透過一連串「過水帳戶」分散與遮蔽金流，最終資金流入詐騙集團的主帳戶。若能透過有效的方法或技術辨識出這些中繼的過水帳戶，從其行為提取出額外特徵，讓機器學習模型能學習到新的犯罪模式，如此可提前偵測出具有風險的可疑帳戶，提早阻斷詐騙金流傳遞，降低受害者人數並減少財損。

---

## 核心功能
- 從大量金流資料中提取關鍵特徵： 包括節點的出入度、匯入／匯出總金額、與警示帳戶的關聯程度（例如同時作為多個警示帳戶的鄰居）等，以協助後續模型建構與異常行為分析。
- 快速識別警示帳戶的鄰居節點：面對動輒數十萬至百萬筆的交易資料，透過關聯網絡技術能高效地找出與警示帳戶有金流往來的鄰居節點，作為後續監控與風險評估的優先關注對象。

---

## 使用技術
- **語言：** Python
- **架構與技術：** pandas、networkx

---

## 測試環境
Python 3.10.2

---

## 執行方式

### 事前準備
1. 建立虛擬環境，並根據 requirements.txt 安裝相對應版本的套件
2. 本專案並未提供實際資料集，使用假的 client 生成假資料後，模擬尋找鄰居和提取特徵的流程。使用者可自行替換假 client 並根據自己 data 的欄位名稱到 conf/job.conf 做對應的修改

### 使用方法
```text 
bash bin/run.sh --date 2024-02-01
```

---

## 專案結構
```text
sna-driven-financial-fraud-detection/
├── src/
│   ├── data/
│   │   └── preprocessing.py # 對原交易資料進行 groupby
│   ├── db/
│   │   └── fake_teradata_client.py # 模擬從 db query 資料
│   ├── sna/
│   │   ├── feature.py 
│   │   ├── graph.py
│   │   ├── neighbors.py
│   │   ├── pipeline.py
│   │   └── postprocess.py
│   ├── utils/
│   │   ├── args_parser.py
│   │   └── utils.py
│   └── main.py # 程式進入點
│ 
├── bin/
│   └── run.sh  # 執行程式進入點的腳本         
│
├── conf/
│   └── job.conf # 管理參數的文件
│   └── README.md
│
├── logs/
│
├── requirements.txt
└── README.md
```



